(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(5),c=n.n(s),r=n(2),i=(n(10),n(3)),o=n.n(i),d=n(0),u="https://protected-cove-78338.herokuapp.com";var l=function(){Object(a.useEffect)((function(){fetch("".concat(u,"/api")).then((function(e){return e.json()})).then((function(e){m(e)}))}),[]);var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),i=Object(r.a)(c,2),l=i[0],h=i[1],b=Object(a.useState)([]),j=Object(r.a)(b,2),f=j[0],m=j[1],p=Object(a.useState)(!1),O=Object(r.a)(p,2),x=O[0],v=O[1],g=new Date,N=Object(a.useState)(null),D=Object(r.a)(N,2),y=D[0],S=D[1],C=Object(a.useState)(null),T=Object(r.a)(C,2),k=T[0],w=T[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"Trello Dashboard"}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),e.target.reset();var t=n;-1===f.findIndex((function(e){return e.title===t.title}))?fetch("".concat(u,"/api"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){m(e)})):v(!0)}(e)},children:[Object(d.jsx)("label",{htmlFor:"Dashboard-input",children:"Create name:"}),Object(d.jsx)("input",{id:"Dashboard-input",placeholder:"Dashboard name",required:!0,autoComplete:"off",type:"text",name:"Dashboard",onChange:function(e){return s({id:Math.random(),title:e.target.value,results:[]})}}),Object(d.jsx)("button",{className:"btn",children:"Create Dashboard"})]})]}),x?Object(d.jsxs)("div",{className:"modal",children:["Dashboard with this Name exists - enter other Name",Object(d.jsx)("button",{className:"btn",onClick:function(){v(!1)},children:"X"})]}):null,Object(d.jsx)("div",{className:"dashboard-wrapper",children:f.length<1?Object(d.jsxs)("div",{className:"Create-a-dashboard",children:[Object(d.jsx)("div",{className:"isFetching"}),Object(d.jsx)("h3",{children:"dashboard list is empty"})]}):Object(d.jsx)("div",{className:"dashboard-list",children:f&&f.map((function(e,t){return Object(d.jsxs)("div",{className:"dashboard-item",children:[Object(d.jsxs)("div",{className:"dashboard-item-head",children:[Object(d.jsx)("h3",{className:"dashboard-item-head-title",children:e.title}),Object(d.jsx)("button",{className:"remove-btn",onClick:function(){return t=e,void fetch("".concat(u,"/api/")+t.id,{method:"delete"}).then((function(e){return e.json()})).then((function(e){m(e)}));var t},children:"X"})]}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),e.target.reset(),fetch("".concat(u,"/api/sub"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){m(e)}))}(e)},children:[Object(d.jsx)("label",{htmlFor:"dashboard-item-input",children:"Item Value name:"}),Object(d.jsx)("input",{id:"dashboard-item-input",placeholder:"Task",required:!0,autoComplete:"off",type:"text",onChange:function(t){return h({subTitle:t.target.value,board:e.title,postDate:o()()._d})}}),Object(d.jsx)("button",{className:"btn",children:"Add task"})]}),e&&e.results.map((function(t,n){return Object(d.jsxs)("div",{className:"Items",onDragOver:function(e){return function(e){e.preventDefault(),"Items"===e.target.className&&(e.target.style.boxShadow="0 4px 3px gray")}(e)},onDragLeave:function(e){return function(e){e.target.style.boxShadow="none"}(e)},onDragStart:function(n){return function(e,t,n){S(n),w(t)}(0,t,e)},onDragEnd:function(e){return function(e){e.target.style.boxShadow="none"}(e)},onDrop:function(){return function(e,t){var n=y&&y.results.indexOf(k);y&&y.results.splice(n,1);var a=t&&t.results.indexOf(e);t&&t.results.splice(a+1,0,k),m(f.map((function(e){return e.id===t&&t.id?t:e.id===y&&y.id?y:e}))),fetch("".concat(u,"/api"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(e){m(e)}))}(t,e)},draggable:!0,children:[Object(d.jsx)("div",{className:"Items-title",children:t&&t.subTitle}),Object(d.jsxs)("div",{className:"Items-botton",children:[Object(d.jsx)("div",{className:"Items-date",children:o()(t.postDate&&t.postDate).from(o()(g)._d)}),Object(d.jsx)("button",{className:"remove-btn",onClick:function(){return function(e,t){fetch("".concat(u,"/api/sub/")+t.title+"/"+e.subTitle,{method:"delete"}).then((function(e){return e.json()})).then((function(e){m(e)}))}(t,e)},children:" X "})]})]},n)}))]},t)}))})})]})};c.a.render(Object(d.jsx)(l,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.e6915120.chunk.js.map
